(this["webpackJsonpcapu-client"]=this["webpackJsonpcapu-client"]||[]).push([[0],{55:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var c=n(2),i=n.n(c),r=n(17),a=n.n(r),d=(n(55),n(31)),s=n(14),l=n.n(s),o=n(19),u=n(49),j=n(21),b=n(5),h=n(13),m=n(50),x=n(44),O=n(45),f=n(46),p=n(22),v=n.n(p),g=n(47),y=new(n.n(g).a)(v.a,{onNoMatch:"passthrough",delayResponse:2e3});function w(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],c="/api".concat(t);return n&&y.onGet(c).reply(200,Object.values(e)),Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(c);case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})))}function A(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],c=new RegExp("\\/api".concat("\\"+t,"\\/(.+)"));return n&&y.onGet(c).reply((function(t){var n,i=null===(n=t.url)||void 0===n?void 0:n.match(c);if(!i)return[404];var r=i[1];return[200,Object.values(e).find((function(e){return e.id===r}))]})),function(){var e=Object(o.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("/api".concat(t,"/").concat(n));case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var F={alice:{id:"191315df-2a80-46f6-977c-058b5a8719c5",displayName:"Alice A"},bob:{id:"1a31ec6c-5c02-4c16-8c2f-59c220e0a31e",displayName:"Bob B"},carol:{id:"158c5b1f-34e5-40ad-a5da-3f5da775e52a",displayName:"Carol C"}},C=w(F,"/users"),N=(A(F,"/users"),w({0:{id:"da7fcf43-830b-4776-9d0e-22c7902048b8",submittedAt:new Date("2021-06-05 9:00"),submittedBy:F.alice,title:"Announcement 2",body:"Bob Loblau Law"},1:{id:"96483807-83f2-42fb-8837-ccc40910edf5",submittedAt:new Date("2021-06-01 9:00"),submittedBy:F.carol,title:"Announcement 1",body:"Blah blah blah blah"}},"/announcements")),S={mndot:{id:"886f18d2-8dbe-4d5e-85e4-63f9925c6668",name:"MnDOT"}},T=w(S,"/places"),R={0:{sky:"Sunny",tempDegrees:65,dewpoint:50,wind:"E 1 mph",precipProb:5,expectedPrecipInches:.01}},D={mondo:{id:"08508be8-7850-4792-a7af-3b47fb1e6e6e",name:"Mondo"},midi:{id:"412e88e3-4358-4ac3-83f1-fac665cb3c20",name:"Midi"}},k=w(D,"/ride-levels"),M={0:{id:"be819e33-1510-4ab4-867d-bccd8d6c1794",name:"Route A",description:"A route description",expectedMiles:50,expectedClimbingDifficulty:"hard"},1:{id:"30e14365-af7b-4907-9ff9-c509f4e78286",name:"Route B",description:"Another route description",expectedMiles:30,expectedClimbingDifficulty:"easy"}},E=w(M,"/routes"),B={planned:{id:"01d3586b-cc73-4672-9669-71e504abbd7d",name:"Planned",description:"asdfad"},tentative:{id:"8d50e334-dbec-4fb7-a46e-04ee4ece0311",name:"Tentative",description:"fdsa"},canceled:{id:"e014a8c5-e245-48a4-848c-a095d210bae6",name:"Canceled",description:"qwer"}},L=w(B,"/statuses"),P={0:{id:"0b3117e1-4309-4c46-84ad-bd25ecadf708",title:"A Mondo Ride",meetTime:new Date("2021-05-01 16:30"),meetPlace:S.mndot,description:"A ride description",weatherForecast:R[0],status:B.tentative,rideLevel:D.mondo,leaders:[F.alice,F.bob],route:M[0]},1:{id:"284d7258-ad88-454d-b8a6-e09589d0742e",title:"A Midi Ride",meetTime:new Date("2021-05-01 16:45"),meetPlace:S.mndot,weatherForecast:R[0],status:B.canceled,description:"Another ride description",rideLevel:D.midi,leaders:[F.carol],route:M[1]}},W=w(P,"/rides"),I=A(P,"/rides"),J={0:{id:"e41c27c6-7f10-49d3-9b26-07cf3556f3d6",title:"Trivia Night",meetTimeDescription:"After the rides",description:"Come drink with us!",meetPlace:{id:"d31473b3-dcdf-42b4-9816-f4b3ae8d9555",name:"Tin Whiskers"}}},U={wednesdayNightRides:{id:"5cdc401c-313e-479e-8ec6-5adf84a78027",name:"Wednesday Night Rides"}},G={0:{id:"951badf6-ab50-41f5-8320-1f4ea1f437d5",title:"Wednesday Night Ride",series:U.wednesdayNightRides,rides:Object.values(P),hangouts:Object.values(J)},1:{id:"Not 951badf6-ab50-41f5-8320-1f4ea1f437d5",title:"A Temporary Copypasta of the Other Event for Illustration",series:U.wednesdayNightRides,rides:Object.values(P),hangouts:Object.values(J)}},V=(w(G,"/group-events"),[{year:2021,months:[{name:"July",dates:[{date:new Date("2021-07-01"),events:[G[0],G[1]]}]}]}]),q=n(3);function H(e,t){var n=Object(c.useState)(void 0===t?[]:null),i=Object(u.a)(n,2),r=i[0],a=i[1];return Object(c.useEffect)((function(){(function(){var n=Object(o.a)(l.a.mark((function n(){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t){n.next=8;break}return n.t0=a,n.next=4,e();case 4:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 8:return n.t2=a,n.next=11,e(t);case 11:n.t3=n.sent,(0,n.t2)(n.t3);case 13:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}})()()}),[e,t]),r}function X(e){var t=e.user;return Object(q.jsxs)("nav",{children:[Object(q.jsx)(j.b,{to:"/",className:"text-blue-200",children:"[Cap U logo]"}),Object(q.jsxs)("ul",{children:[Object(q.jsx)("li",{children:Object(q.jsx)(j.b,{to:"/about",children:"About"})}),Object(q.jsx)("li",{children:Object(q.jsx)(j.b,{to:"/calendar",children:"Calendar"})})]}),t?Object(q.jsxs)(q.Fragment,{children:[t.displayName,Object(q.jsx)("button",{children:"Sign out"})]}):Object(q.jsx)(q.Fragment,{children:Object(q.jsx)("button",{children:"Sign in"})})]})}function $(e){var t=e.announcement;return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)("div",{children:t.title}),Object(q.jsxs)("div",{children:["Submitted ",t.submittedAt.toLocaleString()," by"," ",t.submittedBy.displayName]}),Object(q.jsx)("div",{children:t.body})]})}function z(){var e=H(N);return Object(q.jsx)("ul",{children:e.map((function(e){return Object(q.jsx)("li",{children:Object(q.jsx)($,{announcement:e})},e.id)}))})}function K(e){var t,n=e.ride;return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)("div",{children:[n.rideLevel.name,": ",n.title]}),Object(q.jsxs)("div",{children:[(null===(t=n.meetTime)||void 0===t?void 0:t.toLocaleString())||n.meetTimeDescription," at"," ",n.meetPlace.name]}),Object(q.jsx)("p",{children:n.description}),Object(q.jsxs)("dl",{children:[Object(q.jsx)("dt",{children:"Status:"}),Object(q.jsx)("dd",{children:n.status.name}),Object(q.jsx)("dt",{children:"Route:"}),Object(q.jsxs)("dd",{children:[Object(q.jsx)("div",{children:n.route.name}),Object(q.jsx)("div",{children:n.route.description}),Object(q.jsxs)("dl",{children:[Object(q.jsx)("dt",{children:"Expected distance:"}),Object(q.jsxs)("dd",{children:["(about ",n.route.expectedMiles," miles)"]}),Object(q.jsx)("dt",{children:"Expected Climbing difficulty:"}),Object(q.jsx)("dd",{children:n.route.expectedClimbingDifficulty})]})]}),Object(q.jsx)("dt",{children:"Ride leaders:"}),Object(q.jsx)("dd",{children:Object(q.jsx)("ul",{children:n.leaders.map((function(e){return Object(q.jsx)("li",{children:e.displayName},e.id)}))})})]})]})}function Q(e){var t=e.ride,n=H(T),c=H(L),i=H(k),r=H(E),a=H(C),d=a.reduce((function(e,t){return e[t.id]=t,e}),{});return Object(q.jsx)(h.d,{initialValues:t,onSubmit:function(e,t){alert(JSON.stringify(e,null,2)),t.setSubmitting(!1)},children:function(e){var t=e.values;return Object(q.jsxs)(h.c,{children:[Object(q.jsx)("label",{htmlFor:"title",children:"Title"}),Object(q.jsx)(h.a,{id:"title",name:"title"}),Object(q.jsx)("label",{htmlFor:"meet-time",children:"Meet time"}),Object(q.jsx)(h.a,{type:"datetime-local",id:"meet-time",name:"meetTime"}),Object(q.jsx)("label",{htmlFor:"meet-place",children:"Meet place"}),Object(q.jsx)(h.a,{as:"select",id:"meet-place",name:"meetPlace.id",children:n.map((function(e){var t=e.id,n=e.name;return Object(q.jsx)("option",{value:t,children:n},t)}))}),Object(q.jsx)("label",{htmlFor:"description",children:"Description"}),Object(q.jsx)(h.a,{as:"textarea",id:"description",name:"description"}),Object(q.jsx)("label",{htmlFor:"status",children:"Status"}),Object(q.jsx)(h.a,{as:"select",id:"status",name:"status.id",children:c.map((function(e){var t=e.id,n=e.name;return Object(q.jsx)("option",{value:t,children:n},t)}))}),Object(q.jsx)("label",{htmlFor:"ride-level",children:"Ride Level"}),Object(q.jsx)(h.a,{as:"select",id:"ride-level",name:"rideLevel.id",children:i.map((function(e){var t=e.id,n=e.name;return Object(q.jsx)("option",{value:t,children:n},t)}))}),Object(q.jsx)(h.b,{name:"leaders",children:function(e){var n=e.remove,c=e.push;return Object(q.jsxs)("div",{children:[Object(q.jsx)("label",{htmlFor:"add-leader",children:"Add a leader"}),Object(q.jsxs)("select",{id:"add-leader",onChange:function(e){return c(d[e.target.value])},children:[Object(q.jsx)("option",{}),a.filter((function(e){var n=e.id;return!t.leaders.find((function(e){return e.id===n}))})).map((function(e){var t=e.id,n=e.displayName;return Object(q.jsx)("option",{value:t,children:n},t)}))]}),t.leaders.map((function(e,t){var c=e.id,i=e.displayName;return Object(q.jsxs)("li",{children:[Object(q.jsx)("label",{htmlFor:"values.".concat(t,".id"),children:i}),Object(q.jsx)(h.a,{name:"values.".concat(t,".id"),hidden:!0}),Object(q.jsx)("button",{onClick:function(){return n(t)},children:"X"})]},c)}))]})}}),Object(q.jsx)("label",{htmlFor:"route",children:"Route"}),Object(q.jsx)(h.a,{as:"select",id:"route",name:"route.id",children:r.map((function(e){var t=e.id,n=e.name;return Object(q.jsx)("option",{value:t,children:n},t)}))}),Object(q.jsx)("button",{type:"submit",children:"Submit"})]})}})}function Y(e){var t=e.rides;return Object(q.jsx)("ul",{children:t.map((function(e){return Object(q.jsx)("li",{children:Object(q.jsx)(K,{ride:e})},e.id)}))})}function Z(e){var t,n=e.hangout;return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)("div",{children:n.title}),Object(q.jsxs)("div",{children:[(null===(t=n.meetTime)||void 0===t?void 0:t.toLocaleString())||n.meetTimeDescription," at"," ",n.meetPlace.name]}),Object(q.jsx)("p",{children:n.description})]})}function _(e){var t=e.hangouts;return Object(q.jsx)("ul",{children:t.map((function(e){return Object(q.jsx)("li",{children:Object(q.jsx)(Z,{hangout:e})},e.id)}))})}function ee(e){var t=e.groupEvent;return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)("div",{children:t.title}),Object(q.jsxs)("dl",{children:[Object(q.jsx)("dt",{children:"Event series:"}),Object(q.jsx)("dd",{children:t.series.name})]}),Object(q.jsxs)("dl",{children:[Object(q.jsx)("dt",{children:"Event Rides: "}),Object(q.jsx)("dd",{children:Object(q.jsx)(Y,{rides:t.rides})}),Object(q.jsx)("dt",{children:"Event Hangouts: "}),Object(q.jsx)("dd",{children:Object(q.jsx)(_,{hangouts:t.hangouts})})]})]})}function te(e){var t=e.groupEvents;return Object(q.jsx)("ul",{children:t.map((function(e){return Object(q.jsx)("li",{children:Object(q.jsx)(ee,{groupEvent:e})},e.id)}))})}function ne(){var e=Object(b.f)(),t=H(W);return Object(q.jsx)(m.a,{plugins:[x.a,O.a,f.a],headerToolbar:{left:"prev,next today",center:"title",right:"listMonth,dayGridMonth"},initialView:"listMonth",events:t.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{start:e.meetTime})})),eventContent:function(e){return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)("b",{children:e.timeText}),e.event.title," (",e.event.extendedProps.rideLevel.name,")"]})},eventClick:function(t){return e.push("/rides/"+t.event.id)}})}function ce(){return Object(q.jsx)("ul",{children:V.map((function(e){return Object(q.jsxs)("li",{children:[e.year,Object(q.jsx)("ul",{children:e.months.map((function(e){return Object(q.jsxs)("li",{children:[e.name,Object(q.jsx)("ul",{children:e.dates.map((function(e){return Object(q.jsxs)("li",{children:[e.date.toLocaleDateString(),Object(q.jsx)(te,{groupEvents:e.events})]},e.date.toISOString())}))})]},e.name)}))})]},e.year)}))})}function ie(){return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)("h2",{children:"Announcements"}),Object(q.jsx)(z,{}),Object(q.jsx)("h2",{children:"Upcoming events"}),"[Some abbreviated version of the event calendar]"]})}function re(){return Object(q.jsx)(q.Fragment,{children:"Cap U is such and such..."})}function ae(){var e=Object(b.g)();return Object(q.jsx)("div",{children:Object(q.jsxs)("h3",{children:["No match for ",Object(q.jsx)("code",{children:e.pathname})]})})}var de=function(){var e=function(){var e=Object(b.h)().id,t=H(I,e);return t?Object(q.jsx)(K,{ride:t}):Object(q.jsx)(ae,{})};return Object(q.jsxs)(j.a,{basename:"/capu",children:[Object(q.jsx)(X,{user:{id:"asdf",displayName:"Test User"}}),Object(q.jsxs)(b.c,{children:[Object(q.jsxs)(b.a,{exact:!0,path:"/",children:[Object(q.jsx)(ie,{}),Object(q.jsx)("h2",{children:"Add ride form draft"}),Object(q.jsx)(Q,{ride:P[0]}),Object(q.jsx)("h2",{children:"First Draft of Calendar"}),Object(q.jsx)(ce,{})]}),Object(q.jsx)(b.a,{path:"/about",children:Object(q.jsx)(re,{})}),Object(q.jsx)(b.a,{path:"/calendar",children:Object(q.jsx)(ne,{})}),Object(q.jsx)(b.a,{path:"/rides/:id",children:Object(q.jsx)(e,{})}),Object(q.jsx)(b.a,{path:"*",children:Object(q.jsx)(ae,{})})]})]})},se=n(23);function le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(t){return setTimeout((function(){return t({data:e})}),500)}))}var oe=Object(se.b)("counter/fetchCount",function(){var e=Object(o.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ue=Object(se.c)({name:"counter",initialState:{value:0,status:"idle"},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}},extraReducers:function(e){e.addCase(oe.pending,(function(e){e.status="loading"})).addCase(oe.fulfilled,(function(e,t){e.status="idle",e.value+=t.payload}))}}),je=ue.actions,be=(je.increment,je.decrement,je.incrementByAmount,ue.reducer),he=Object(se.a)({reducer:{counter:be}}),me=n(48);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(Object(q.jsx)(i.a.StrictMode,{children:Object(q.jsx)(me.a,{store:he,children:Object(q.jsx)(de,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[86,1,2]]]);
//# sourceMappingURL=main.5e4667e2.chunk.js.map